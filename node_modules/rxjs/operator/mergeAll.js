"use strict";var __extends=function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},OuterSubscriber_1=require("rxjs/OuterSubscriber"),subscribeToResult_1=require("rxjs/util/subscribeToResult");function mergeAll(a){return void 0===a&&(a=Number.POSITIVE_INFINITY),this.lift(new MergeAllOperator(a))}exports.mergeAll=mergeAll;var MergeAllOperator=function(){function a(c){this.concurrent=c}return a.prototype.call=function(c,e){return e._subscribe(new MergeAllSubscriber(c,this.concurrent))},a}();exports.MergeAllOperator=MergeAllOperator;var MergeAllSubscriber=function(a){function c(e,f){a.call(this,e),this.concurrent=f,this.hasCompleted=!1,this.buffer=[],this.active=0}return __extends(c,a),c.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(subscribeToResult_1.subscribeToResult(this,e))):this.buffer.push(e)},c.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},c.prototype.notifyComplete=function(e){var f=this.buffer;this.remove(e),this.active--,0<f.length?this._next(f.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},c}(OuterSubscriber_1.OuterSubscriber);exports.MergeAllSubscriber=MergeAllSubscriber;