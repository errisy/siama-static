"use strict";var root_1=require("rxjs/util/root"),isArray_1=require("rxjs/util/isArray"),isPromise_1=require("rxjs/util/isPromise"),Observable_1=require("rxjs/Observable"),iterator_1=require("rxjs/symbol/iterator"),InnerSubscriber_1=require("rxjs/InnerSubscriber"),observable_1=require("rxjs/symbol/observable");function subscribeToResult(a,b,c,d){var e=new InnerSubscriber_1.InnerSubscriber(a,c,d);if(e.closed)return null;if(b instanceof Observable_1.Observable)return b._isScalar?(e.next(b.value),e.complete(),null):b.subscribe(e);if(isArray_1.isArray(b)){for(var f=0,g=b.length;f<g&&!e.closed;f++)e.next(b[f]);e.closed||e.complete()}else{if(isPromise_1.isPromise(b))return b.then(function(l){e.closed||(e.next(l),e.complete())},function(l){return e.error(l)}).then(null,function(l){root_1.root.setTimeout(function(){throw l})}),e;if("function"==typeof b[iterator_1.$$iterator]){var h=b[iterator_1.$$iterator]();do{var j=h.next();if(j.done){e.complete();break}if(e.next(j.value),e.closed)break}while(!0)}else if("function"==typeof b[observable_1.$$observable]){var k=b[observable_1.$$observable]();if("function"!=typeof k.subscribe)e.error(new Error("invalid observable"));else return k.subscribe(new InnerSubscriber_1.InnerSubscriber(a,c,d))}else e.error(new TypeError("unknown type returned"))}return null}exports.subscribeToResult=subscribeToResult;