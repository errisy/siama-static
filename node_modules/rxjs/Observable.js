"use strict";var root_1=require("rxjs/util/root"),toSubscriber_1=require("rxjs/util/toSubscriber"),observable_1=require("rxjs/symbol/observable"),Observable=function(){function a(b){this._isScalar=!1,b&&(this._subscribe=b)}return a.prototype.lift=function(b){var c=new a;return c.source=this,c.operator=b,c},a.prototype.subscribe=function(b,c,d){var e=this.operator,f=toSubscriber_1.toSubscriber(b,c,d);if(e?e.call(f,this):f.add(this._subscribe(f)),f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f},a.prototype.forEach=function(b,c){var d=this;if(c||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?c=root_1.root.Rx.config.Promise:root_1.root.Promise&&(c=root_1.root.Promise)),!c)throw new Error("no Promise impl found");return new c(function(e,f){var g=d.subscribe(function(h){if(g)try{b(h)}catch(i){f(i),g.unsubscribe()}else b(h)},f,e)})},a.prototype._subscribe=function(b){return this.source.subscribe(b)},a.prototype[observable_1.$$observable]=function(){return this},a.create=function(b){return new a(b)},a}();exports.Observable=Observable;